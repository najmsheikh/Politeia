<!DOCTYPE HTML>
<html>

<head>
    <title>Politeia Panel</title>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.0/css/materialize.min.css">
    <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.0/js/materialize.min.js"></script>
    <style type="text/css">
    .card {
        width: 50%;
        padding: 20px;
    }
    </style>
    <script type="text/javascript">
    var host = 'http://***REMOVED***.ngrok.io';
    $(document).ready(function() {
        var img_url, politician, threshold;
        $("#submit").click(function() {
            img_url = $("#img_url").val();
            politician = $("#politician").val();
            $.post(host + "/enroll", {
                img_url: img_url,
                politician: politician,
            }, function(data) {
                Materialize.toast('The enroll was a ' + data, 4000);
                $("#img_url").val(null);
                $("#politician").val(null);
            });
        });
        $("#submit2").click(function() {
            img_url = $("#img_url2").val();
            threshold = $("#threshold").val();
            $.post(host + "/recognize", {
                img_url: img_url,
                threshold: threshold
            }, function(data) {
                Materialize.toast(data + ' is the politician\'s ID from the image', 4000);
                $("#img_url2").val(null);
                $("#threshold").val(null);
            });
        });
        $("#submit3").click(function() {
            politician = $("#politician2").val();
            $.post(host + "/lookup", {
                politician: politician
            }, function(data) {
                Materialize.toast(data + ' is the politician\'s CID', 6000);
                $("#politician2").val(null);
            });
        });
        $("#candList").click(function() {
            $.post(host + "/listcands", {}, function() {
                Materialize.toast('Check the console!', 4000);
            });
        });
        $("#updateTop").click(function() {
            $.post(host + "/updateNews", {
                topic: 'top_stories'
            }, function() {
                Materialize.toast('News updated!', 4000);
            });
        });
        $("#updateEdu").click(function() {
            $.post(host + "/updateNews", {
                topic: 'education'
            }, function() {
                Materialize.toast('News updated!', 4000);
            });
        });
        $("#updateCli").click(function() {
            $.post(host + "/updateNews", {
                topic: 'climate_change'
            }, function() {
                Materialize.toast('News updated!', 4000);
            });
        });
        $("#updateFor").click(function() {
            $.post(host + "/updateNews", {
                topic: 'foreign_policy'
            }, function() {
                Materialize.toast('News updated!', 4000);
            });
        });
    });
    </script>
</head>

<body>
    <div align="center">
        <h3>Politician Image Enrollment</h3>
        <div class="card center-align">
            <form class="col s12">
                <div class="row">
                    <div class="input-field col s12">
                        <i class="material-icons prefix">http</i>
                        <input id="img_url" type="text" class="validate">
                        <label for="img_url">Image URL</label>
                    </div>
                </div>
                <div class="row">
                    <div class="input-field col s12">
                        <i class="material-icons prefix">face</i>
                        <input id="politician" type="text" class="validate">
                        <label for="politician">Politician</label>
                    </div>
                </div>
            </form>
            <a class="waves-effect waves-light btn" id="submit">Submit</a>
        </div>
    </div>
    <br>
    <br>
    <div align="center">
        <h3>Politician Image Recognition</h3>
        <div class="card center-align">
            <form class="col s12">
                <div class="row">
                    <div class="input-field col s12">
                        <i class="material-icons prefix">http</i>
                        <input id="img_url2" type="text" class="validate">
                        <label for="img_url2">Image URL</label>
                    </div>
                </div>
                <div class="row">
                    <div class="input-field col s12">
                        <i class="material-icons prefix">graphic_eq</i>
                        <input id="threshold" type="text" class="validate">
                        <label for="threshold">Threshold</label>
                    </div>
                </div>
            </form>
            <a class="waves-effect waves-light btn" id="submit2">Submit</a>
        </div>
    </div>
    <br>
    <br>
    <div align="center">
        <h3>Politician CID Lookup</h3>
        <div class="card center-align">
            <form class="col s12">
                <div class="row">
                    <div class="input-field col s12">
                        <i class="material-icons prefix">face</i>
                        <input id="politician2" type="text" class="validate">
                        <label for="politician2">Politician</label>
                    </div>
                </div>
            </form>
            <a class="waves-effect waves-light btn" id="submit3">Submit</a>
        </div>
    </div>
    <br>
    <br>
    <div align="center">
        <h3>Scripts</h3>
        <div class="card center-align">
            <a class="waves-effect waves-light btn" id="candList">List 2016 Candidates</a>
        </div>
        <br>
        <div class="card center-align">
            <a class="waves-effect waves-light btn" id="updateTop">Update Top News</a>
            <a class="waves-effect waves-light btn" id="updateEdu">Update Education News</a>
            <a class="waves-effect waves-light btn" id="updateCli">Update Climate Change News</a>
            <a class="waves-effect waves-light btn" id="updateFor">Update Foreign Policy News</a>
        </div>
    </div>
</body>

</html>
