<link rel="import" href="../elements.html">
<link rel="import" href="../globals-behavior/globals-behavior.html">
<dom-module id="my-discover">
    <style>
    :host {
        display: block;
    }
    
    #newsCard {
        display: inline-block;
        padding: 15px;
    }

    @media (width: 720px) {
        #newsCard {
            width: 80vw;
        }
    }
    </style>
    <template>
        <!-- <iron-ajax auto verbose url="http://de4d1a08.ngrok.io/test" method="POST" handle-as="json" last-response="{{news}}"></iron-ajax> -->
        <firebase-collection id="newsfb" data="{{news}}" location="https://politeianews.firebaseio.com/" limit-to-first="30"></firebase-collection>
        <template is="dom-repeat" items="{{news}}">
            <news-card heading="{{item.title}}" content="{{item.sentences}}" link="{{item.link}}" image="{{item.image}}" id="newsCard"></news-card>
        </template>
        <paper-button raised style="display: block" on-click="_loadMore"><i>LOAD MORE</i></paper-button>
    </template>
    <script>
    (function() {
        Polymer({
            is: 'my-discover',
            behaviors: [MyBehaviors.GlobalsBehavior],
            _loadMore: function() {
                this.$.newsfb.limitToFirst += 20;
            }
        });
    })();
    </script>
</dom-module>
