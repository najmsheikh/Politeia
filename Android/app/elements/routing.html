<script src="../bower_components/page/page.js"></script>
<link rel="import" href="globals-behavior/globals-behavior.html">
<script>
window.addEventListener('WebComponentsReady', function() {

    var globals = MyBehaviors.GlobalsBehavior.properties;
    var sortBtn = document.getElementById("sortButton");
    var searchBtn = document.getElementById("searchButton");

    // We use Page.js for routing. This is a Micro
    // client-side router inspired by the Express router
    // More info: https://visionmedia.github.io/page.js/
    page('/', function() {
        app.selected = 0;
        app.route = 'discover';
        app.headerTitle = 'Discover';
        globals.route.value = 'discover';
        sortBtn.setAttribute("style", "display: inline-block");
        searchBtn.setAttribute("style", "display: none");
    });

    page('/learn', function() {
        app.selected = 1;
        app.route = 'learn';
        app.headerTitle = 'Learn';
        globals.route.value = 'learn';
        sortBtn.setAttribute("style", "display: none")
        searchBtn.setAttribute("style", "display: none")
    });

    page('/explore/:page', function(data) {
        app.selected = 2;
        app.candselected = data.params.page;
        document.getElementById('recog-candidate-pages').selected = data.params.page;
        app.route = 'explore';
        globals.route.value = 'explore';
    });

    page('/explore', function() {
        app.selected = 2;
        app.route = 'explore';
        app.headerTitle = 'Explore';
        globals.route.value = 'explore';
        sortBtn.setAttribute("value", "true")
        sortBtn.setAttribute("style", "display: none")
        searchBtn.setAttribute("style", "display: inline-block")
    });

    // add #! before urls
    page({
        hashbang: true
    });
});
</script>
